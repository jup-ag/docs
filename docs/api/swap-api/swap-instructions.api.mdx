---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: eJztW1tz2zYW/isY7kOTjORLLt2uZvbBdpzEqZ2olt2ktT0jiIQk2LyZIC0rrva373cOQImUKF+2O7Od2eQhoQjg3O9g7rxcjozXOfN6E5l6Fy0vUMbPdJrrJPY63rG6LpTJxTDJhMEOoWOTZ4VPy0bkY5mLaVIIX8aiMEoMsyTCWyWuiyRXvDRSuX3d3+SX/fP4PO50OjGez+NjNVSZyBNxRvjFTvdABIl/8WwTf5tNwtiWqd4cFDoM2vwzz2RsJBPwN/saWLJ2MomrS+2JzsftKrHPmYcoyRR4wGMk6TWTch57LS+znO4mwdTr3PFPnanA6wCCanl+EucqzmlJpmmofT6+eWlITHee8ccqkvSUT1MFwSWDS+XnDq4FdOZBRFm3GOD0z2qKNRbIsTIp6FMk/DRLUpXlWhkCVd++gA2mdDzyZi1vksl0Jw5OY3roJSFtqiuwLU4SIYs8IX59GYZTQXs3Cz4iep8PIQ5WWUV653FbHCVQ+9v9r8pYxX+hrUbHvrKP2ggovdc9hPauVCwmYx0qEQPLjRJuA3RMoL6Msc5iFDoXEx2GgljwcxBDVkO7ZZQUcU6WwHRpfiTELaAJhJL+WOQ6UkIOc1gMWZZdLSE6hsChpW8g/SuCgec5DUMZmnVEfKlT8RTUYLNET4JsQg8lGDhCPoZUUpnJSOXW7h1JBDRWKqBXYwkJzgFZ6UrfZ8p0rHMtQ/1NBQS2OwfFhAxg26MYJh4IPRR9WEKuYzbUE4KyY4H0STVEzUD5klgnXOs3R3KKnWESj4g4KQI9hM/CF0hsmY0BE2WpjtnWxkmm8ynt9sPEKHYvZ7qDJAmVpBeBGsoizK1/wZQBrDeWIN0hNo22DErdQWIiINYjHYPfYBrLyBn4YMosZUkBjkZCxSNsaZFpJBN6URiiLQHYCILkuOAnUVogYhWQr2kJlfusNVKXiuUgVIZBFkaOlEiGwjCpAv46ggZK9eAka5hOGQMRQVVCGoYeqts5RawsFxhEBGY0lqFb4kYFWoKQmtoNeRdZIZMAoUd6NM7Z7kjsROrB0HkYWVKQ8NrCoOIgtGr2M8UqJh7uw0cyKbER+LcMEeAd4/ONxJKyDA2lDgVAmwS+EquJ2Dk6MuIZhC5CDV4DaxTA87zJJGADQ6Wc9puUvxMvOYM1PWf4oJSZ9ZMwROQVgGWsDiFisEocc5irgXjxglJXEpPVKKGQNJRlXMewBwEpgD96qoIg73/xgoD/Rm6bCHIOnINkSq0yKaVvcZLLYApday50sqeUONsJAvEOdK7kOxkEbWKgnSec9Z6LEeSnFikMlg9pm6ocF1kBkdy/wvM9suylytfDKQLcVKScYsSVmlqJWmdnHyFjwj8McDlJsHRPjRoWIdNF5gTu8iTjo5T3KRiXAqsdLQsFioZz7ATvl0Jl1nsDmUtIkNxFikGYgAB1m4ZgPoM5XSFrJKGB8jbxr4zluyNS1jUf5+W3Raw234U6NRBcs5zSTFOk0t/YJaCIQxmlSbYm9CCCl0ITobpRISF0CQOGAZVp2gw1k+ZIBHP4qinBHuRcNpWmSyLcPzj5sH9cnpsSIPH5WHzUpAOdimfk1YMkHwuZW8Ei+nNueu5iAClsIm0KQ64OCxgNHbBxwWYrtbDOvjW5ap3U5ygPw2zEUxXkvMSpVy0l9Yckoy/wqCN5WxXsE06v1jwtT8VFRLUUBS48tbwxYiH+uYHmP9DjBTQb1VEu6xIU6aiIROj2cNxw2bsmfMqJtlBsWYWCKlI3kKVyCoKq8mAHUJk3m4GCS+jsRKcNjJfblkvttti/hXVUTIpU7hSFGk3y74qqSOXz+plthIIIReAxQi5+Ouqd9eGwAz2QZHDYB7n7lKVCGyoPKJ2wMBbxFG485vKCjAHBNY4VI7e1AGM97u7R6TMKadisM6bj4tk4z1PT2eTQtkHy2Jjkw02K/SwhaQ7VSPrTk4VbNOlql2p8wz5Hu6teJBBtbLyWtoQtSwOox2CdGKj73OkqU/0GOvok77JfaYmEdk+0WXFjl4cHlFWQBWQ2eqjY4XJvxqpvqraaBNBdhGcKM4/JgZnylXZFpN2eFLXs5aIFhRO43w0iZNCyi6gfVfaDWcJSReDOLs6h+JPGFBQhxi5eLBWtUF+IwiOY1uvXppjs6rg9W4+dYvshqrRGwXBJb6uzYFGMB2SXnHAMfDyUpbGOlCWtWulZgVGRT+WwpvJaOMy7RYATP5j6/pBomVeGCLBFRg6HQHELsyBPED4nvaTErjjLcQdCxQGgRSpmJVnKbRKsOmsNoZ9kOEQ9ClGJuqLw6yHKcDwnd85sCU7hELbtwyd85XzZZYLAhhFOpo+0U3OlUzhNVhblx6m/BwYbo2qzPsjGSCcoNCopspSUDb1jhexO/lwWT2V5SXLbt3ICPC7TJoSFkllpUlBdkc5LjXlh6sRSFrJQj3Palq0PqF1LqbrABtu88S+ThC16VXHQJjvmOrpuw/d5uzXqHqqRFA3Eo4RX2gNaNXeMTYCGD1Nnqk2lFdozazAtzlITqj+oc6MWrwS0myLLL7pQB8mObDI3jdhYFy6XeLk3VM4pZz8rgwitkM84vOVh+FqNwnlOocbDNE5vVupm9FwNYyKkw/ZlkWow256LtV3iamxGGpToL0JSN9O+OtJ+ljxQMVLqRm5SnNhrjp0SCFt3hL4NFFW3Jub7/lIQFM+2X2/Rn+fihbiXnP5KwLGVdH9tydtn6+qvCb99rjtg+ZREUkR7AqbZD9EhTeIG3horo5bHwQdVxrgXJrk5SfZvU51NG/Me0JQ2gppvAAukxpuOUcqxVe5SPrbh7gYJhj2fw8etpOa7U1bHqQO7vWVhtVaAlHY6ByP+BbFHBkLHoX+SC2bJLVsRXPE1AhDKIpQoAzVk+8ypUYEXmjUiqE/9HhgZch96hNN4b1tR90PHO1zN2feLZ3JA++tkDBrGSRjgNfnEURIoelz4GFff0NVBlIL3rkVODX0XLdXqPHJBS9Msck5Q02KF9DXL6w6vlsl7pccEZXPu6lpuKutTH2sB2B9wcC/jEXSaAgIFEjcoYCqaZPc0giIUONRZ1Amzg0OXRogQMqp6OGbvK2mCX5YR8FPiqpTB1HVrfbAWpIm2TR6PwOtlLrEy13fDKHtdR8XtxwHZLD99LnIygVznIW3vlRBndRNqamxsgLavXr3kVnvB2cM9oFxvR0P1aKSzBe3dCvbZis034Vl4wWJVZpmkqT3ySPSITpZUcIBc9ZCHyyiytwFPdXWallWeefOKzzroTTyGctDUYs9aDzj6A778UBy4Z3XB0ZrVNUhndTNlqZOebXv7WGupKmWuvAWUii8cl9bRy1XKZ/l66DanpFZBZ9MWj+R0pE4kmqKG1Qr1v9RSA60om74aroO8S9Q+RXe0v3N5NNTjnV3THf28f/NbbqKjb5enH9T1Pw6/vv5wY/4+fLVy11SP5l4v2X7kn5dVe+x421yPbNUttuPtdy/ffQmCNzvF8LrXu1ZHL68/bd9+mw5kuvfT+9eT/ffvr36fTE/e5ts3NasGxJdvfny1tS6T8frW1stqSutUIlctMr3ZWgo8cRGGq+7vbdXSXues7rulB3k7N7u9ve2fo3effPUhffvj5XT6dffXH0dHX9/d/v7T7sePrz78evrpp6u9Ivvozd3L+zwAPvHry5qHP1Xkf0a669S1KvKK/3lvKlHliSirrgeMs4uHZq0PjQxr4zzHw1ZreVa4GAHO7hskuPumasBwt9w0l+I4YJ2EUb+EtFaK017h+8oYmnyXm70/cUVcj9hs9weViWxTceyKWRpb9O/Oz8/Xy5cWO4L3LM0k7Qq8aWs261cGxAY9lxR+YXKa0ddnjvNRI2ikHnFR4D4xO7qbs4OGAotmg5U7wP8QfjG4WpP3tOnxlKuyWLmD0uYL5Eh9eNP6UppwWCowawAqKcMNUI5ULq15ylw2Z7Ia/LmUKjJxhyvAK9bislFlhvWQKdmr6SKtTccGfLQ6PSnry+9K/4sqnZX4aGVX7inXXvya77r+q+qa65PFu+/a+F9pY3UacMJT6LyQ4coXcxu2OfeJueK7Av+qCnTfoNFIpvJZV+/zodOfDAKUfeYwSa6K9IQo37Fv1NqPlkLeK5hNIcvd9JUWX2Vkyg1oG28uHxWG5xJZEsn6WqApZayGlvvZvVjuvBewKm0sExWpfJxQB5cmhu1P5mP8Wv0CgQnLSBLcixUZ1fblZXIIvmnUv3FZpBtyxKc3b7ZX1Pguo9torTL+pnQ+MeM7jIym7XyVZ6DOZQyPAN6VOlgH3N2/VXBUL9TtPXrM56irnEGA1CAcL74+3f/e8X/v+L93/P/9jl+Xw9j5sE37VyaXWW4/HzLWubc3tja2Vlz+D3Go4yvxx3n8h2i32/bh7D16JJ7ZrdxEIti22QGfu638HYvgr9wrX5o88kv3EkiPrvIehNF4C8ogWFEIv5EdbENenDoaInCN+7vFbOP/6H8EuMRKc91NBBXN0uNcceeS11mD6BDQx5TgsHh3R19anWbhbEav+eNEvMfjjcy0LZnOyFXGSgZUXyEOcRHm7Vlxt0+IBNoeFpz7l8dKlL3sCdRLKs3v3XtRycHdz70TbB64/+0Q2aiayQkFRvzd8ShipPM+kt/dIcLFo4K/YPAsTPrzb4YyoIY=
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction\n- Most DEXes swap WSOL since WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- Exlcuding slippage or platform fees\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` and `platformFeeBps`\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      