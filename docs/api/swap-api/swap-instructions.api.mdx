---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: eJztW1tz00gW/itd2ocBys6FAZZ11T4kIUAgAU+cDMwkqXJbatud6Ba1FMdksr99v3O6ZUu2nMvOVu1UbXgAWeo+fa7fuUjceLkcGa9z4vUmMvXOWl6gjJ/pNNdJ7HW8Q3VZKJOLYZIJgxVCxybPCp8eG5GPZS6mSSF8GYvCKDHMkgh3lbgsklzxo5HK7e3+Ot/sn8ancafTiXF9Gh+qocpEnogTOl9sdfdEkPhnz9bxt1mnE9sy1euDQodBm3/mmYyNZAb+Zm/jlKydTOLqo/ZE5+N2ldnnLEOUZAoy4DKSdJtZOY29lpdZSbeTYOp1bvinzlTgdUBBtTw/iXMV5/RIpmmofd6+fm5ITTee8ccqknSVT1MFxSWDc+Xnjq4ldOJBRVm3GGD3ZzXFM1bIoTIp+FOk/DRLUpXlWhkiVV8+pw2hdDzybrFeTlVGT+pWa4utMEwmQgq/MDl0z+tIzbhgPZCNKuoSQ6WMkHEgMggpkiHWXqhYSN9Pijg3p3FbfCGLssWJL8M298PE0E2lM7F1tGWECo2ajBWUTMTG8so6QaYgV0wLIyFHUsctup3ZY804KcKgPMuxpw1bZUniSSbTrTg4jumil4RNwh8lQhYQGybyZRhOBa1dL3iL6H3dhwMsKqAlpBHf+BnpQfS6+04Fk7EOlYhBC7K4BfBd0si3MclE7iF0LiY6DAUx6uc4kqKBVsuIhYLq+XTNl+TILdaQkv5Y5DqCvoY5TETKsk9Lio5tyGH5G0j/gmjgesbDUELtK5j4VufiMUdDzPJ4UlfT8VC1QYCTveBbmYxUbh3NsUREY6UCusXeMCNUczBYROdahvqHCohsd0aKGRkgZkcxQjcQeij6sHeuYw7AI6KyZYn0yTTEzUD5srB+ecfiCKEwUGESj4g5KQI9BBaR+5N/W0+fKMt1zB41TjKdT2k1+33VQQdJEipJNwI1lEWYW9yAw4JYbyzBujvYNHosOHUbSYiARI90DHmDaSwj58aDKYuUJQUkGgkVj7CkRa6RTOhGYYi3BGQjKJIDyU+itEDcFtCvaQmV+2w1MpeK5SBUhkkWRo4Uhb1hVgVwaAQLzOK/ZS1Mu4yBimAqChiiHqrrGUdsLAd4IoIwGo9hW5JGBVoSgNRwhaKLvJBZgNIjPRrn7HekdmJ1b+gijDwpSPjZ3KHiILRm9jPFJiYZ7jqvxD46jci/Y4og7wSfLSSRlBVoKHUoQNokiJVYTcTWwYERzwhgQw1ZA+sUOOd5k0vABwBzzvqNWB0vBIN1Pef44JSF9ZMwREZhyLQ2hIq1A+vxgqDixQuC5yQmr1FCIRkqK7iO4Q8CWoB8dFUlQdH/4gUR/43CNhEUHNgHzZRWZVbK2OLkncEVutZdaGdPKXGyFQTiPfhcyuMyCNokQDtPOJs/FyPoT81TMzwf2l6B/cBr/wLXd+iylypfD6cAuKlIOXWKCzW1GrXBzjFCzoR/mOBiKmDtHhs1LELmi9wJ0uVJxlupniEwLhVW21oWQISGs9OJ3i+Fymz0BjKX0CCFixSDMAED6joNIXwGd7pA1khCA+Ot418Zy/cHZKxL3s6P3xWxWn8f6tRAcc16SjNNSKV/cEjAEPsySpNsBfQAwUuliVBdqZAOdAkDjgGTaVoMM3O2piKipK8WdccRm3NpULouqXB37+jj7mG5b0qExNdD8UmTDXQqnlFUD5J8LGRuFQv059z03GEAGWwibQrTsR8WcBraYHHBZis1986+dblq/ddnlIdjNp5TVeSsdKtXYyX3+6Sjb4ioA3ldVewjdi/Xci1PxUVENSIBF65a3hhYiH+uYPmPdHkGy0b1IxdtCY50VEQidGsYN1z2rimfcqItgFvWoOCKzI3DUCGCoao+OABQZgLHuGzGrQL33rzybm/B0zmseKTTBlWs3rjYZrTF7jU8qOJ25BbOmKjWJP+umJPcYtY7sB8R0BBKjwHL+OkkdB6KzY70QJJTYh1s41MmCy2c7lHKYYXNMRehPuYShBwGABzHylbLXC/wqYfdHdp9QrBny2Di4+zZOM9T01ln+FsjDa1N8uE65QfWmTT7aiT96dE8dJrsuU39jeG4pNW1ih2IZDFd2mK2LB9gQoPnJEA9Lo+Xheo38NEnfZe9WksktHqizVKou1w9oMyDTCGz0X0FEZeEt2z6poqsSQHdOYQTFD0kT2bKV9oVmnZ5UtQynEMUghyE6BVQNGjZh6gxVfaTWTileoDbO9+HAlEaU0SuM1pOxNROhChOgmm9xm3CbVfr7dia7RjL91HJNSqGy35bwQXzgj0gv+SkZIADoSyddaQsa9Vq0CqMGgEqmTWV4MKdvF0E2PGTqa8PiZdZ9QgQLjIKOIDJNdyCIkH4nBiT8nTl+jiwSwUEqEUqZiNZzm2irAZr7UA/ybCJ+hjbmAaFX4cxw5hP4ZzZMp0gE77tIyZ85WLZZYvAwggn3Af6qbnQKYImKwv3w9TfgYCNyNtsD/IxsgmKkUoaLTVl4XmsUAFQPJcFVrXnpiIvU3mRUTwvVhtls0d/yzxXUcrpkUthtUwPd0YyQ8FsDHVR4FFda4P70B43tA8LXuujPRQgKXqGB+miNC+6M7eNLUpzlKnzvKZqCh2ZtX+LE9OESg5q1qirKwltp0js88bTUbLTp8wNVtZWod+CLHci34xzDpsSE+gJhYA7t9yM0KlxOEsR1GuYxkHUUqmMNqth4oXs1j4vUg1h2zO1tsuzGvuPBiP6c4TpZtpXB9rPknuKRMrESDWK83QtTlMiYUuN0LdxX41SEr7vL2CaeLb5aoP+PBcvxJ3s9JfwwxbP/ZVVbp+9q78CTftcRgCQKSekAG8iBvvxPCqZxA2yPbAYanmMLigjxr0wyc1Rsnud6mzamNgkRaH1GhR+A/gkdd+0jXKKLXUXEq7FsytkEK6qSS+omqgD75QlcurIbm5YWq0lIqXnzsiIf8EQkYEZsOmfFJRZcs1+heB8heSAugc1yEAN2WMJNSCUMg9QylvSSX3Gec+AlLvTA2zFfduguh863uL6zd6fX1OM2l9HYzA1TsIAtylsDpJA0eU8DLkmhzn3ohTK6NrDqc3votFanr7OeWmavM4YanpYYX3F41WblwvjnTKogrJld5Ust5r1WVCZMmDcYpb50IpiOxlmPuV9t/udf7RgTVpEJEpNnfLIolGzj2M3QsFD3UidbTtsdEmJziUfrON54tB0pqe+lchNoS0ED6auy+tD+CBNtG0O+ZVAvfQlcWYe0TDaX9WJcUuyR27OV1+LnJwk13lIy3slxdu6k93b/my+wR2nG6+zQf26sw8w7P5GUq52O1j0oRxQE1JK0q0cf7sUI3NqFqdoyTxq5k9llkl6p4HUFD2gHyaD7CH93YcIMorsu5LHQgPN3CrXvHgpxh31JmWGctDUqN+27gGGe2L/Pty44+lcohVPVxx6W3da1jrZ2TbA97sLw/jgEY5Vtd/MzvMDK0F0WDpSL1cp7+X3bNc5JdAHTRJYuEgdSTRdDb5akf2XWiKiJ8pmz4ZXbd45irGiO9rdOj8Y6vHWtumOPu9e/Zab6ODH+fFHdfmP/e+vPl6Zvw9/XnqPV88dXi/ZfOCfl1Vv7nibXCBt1P294+12z99/C4LXW8Xwste7VAcvL79sXv+YDmS68/bDq8nuhw8Xv0+mR+/yzataTIDiy9dvft5YlTf5+cbGy2oC7VRQsIZyrzcWcCsuwnAZPLyNWpLtnNQjv4w/b+tqu7ez+Tl6/8VXH9N3b86n0+/bv74ZHXx/f/372+1Pn37++Ovxl7cXO0X2yZsFp/d1gPPEry9r+PBYlf8Z7a4y17LKK9Hrva5g0iOPrAYuTrw9u2/ee9/YsjZSdDJstBbnlfMx5O1dgwr3zqsKN+4LApp7MTTYIOGjX0JbS7Vxr/B9tKg0fS8Xe3/i9Xsd79nv9ypT4aba3NXSNBbp35yenq7WLz3sCF6zMAW1TxBNG7e3/cqQ2qAJnL2VX5hpzkaZ9P58rVpfPzK3urd3ew0FG80eK+8h/0P6xeBiRdbUpsdTtMrDynswbb5BjzQYaHq+kDncKRWaNQKVLOIGNAcql9Y9ZS6b82CN/kxLFZ24zRXiFW9xCaoyI7vPlezr8SKtTd8GvLXpM4wno/9Fjc5GfLCxK+9KV758Nk+2/qvamuuT+b0na/yvrLE8XaDhBqCykOHS14hrttH3SbjiyYB/VQO67+BoCFX5tKz3dd/ZTwYByj6znyQXRXpEnG/ZO2rlh1MhrxUsppDlanrHQWUXfbxiJ8aNb0YfBMMzjSyoZHUt0JQylqHlbnHPFvv2Oa1KG8tMRSofJ9TBpYlh/5P5GL+Wv4JgxjLSBPdiRUa1ffmyOoTc9O5h7bxI1+SId69fbS6Z8X1Gb7u1yvh73dn0jV+qZDT+51eFBuZcPOEBxLtSB6uIu/d7lTOqL+zte/qY91FXuXx8mil4cdDmfr0q6RIXR+5zNylMLkd2wuo44SyOjgbywULUgRzOPx3efRopPI0UnkYK//2Rgi5nxbNpnvYvEJsZwZ1DdtLN2sbaxlI0/yH2dXwh/jiN/xDtdttenHxAE8ZDwaV3r0BzixHP3VL+EEfwf1GofCrzwP+mUBLp0cvLe2k0vvdlEmwo4Htk5+7QF+emBoivSX8zH578H/13Dpe5aZa8DlDRrD3OBjcuO540qA6APqYMioc3N/Sp2HEW3t7Sbf4CE/dxeSUzbWuyEwqVsZIBFXDAIa7yvB2r7vYRsUDLw4KLi8W5FeUnuwMFmUrzO9eeVZJ892vvCIsH7r+qRBZVMzkhYMTfHY8QI501qnzvBggXjwr+ZsOzNOnPvwHqaTpJ
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- The returned swap transaction will still attempt to create required accounts regardless if it exists or not\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"},"bps":{"type":"integer","format":"uint16"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      