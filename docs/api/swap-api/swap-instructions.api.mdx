---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: eJztW1tz00gW/itd2ocBys6Fy+ysq/YhCQHCJOCJw8BMQpXbUtvuRDfUUhyT8f72/c7plizZchJ2tmqnauEBZHX3ud9b3Hq5nBivd+4NZjL1Pne8QBk/02muk9jreafqS6FMLsZJJgx2CB2bPCt8WjYin8pczJNC+DIWhVFinCUR3irxpUhyxUsTldvXw21+ObyIL+Jerxfj+SI+VWOViTwR54Rf7PWPRJD4nx9t42+zTRi7MtXbo0KHQZd/5pmMjWQC/mZfA0vWTWZxfak70/m0Wyf2MfMQJZkCD3iMJL1mUi5ir+NlltP9JJh7vVv+qTMVeD1AUB3PT+JcxTktyTQNtc/Hty8NienWM/5URZKe8nmqILhkdKn83MG1gM49iCjrFyOc/lnNscYCOVUmBX2KhJ9mSaqyXCtDoJrbl7DBlI4n3qLjzTKZ7sXBh5geBklIm5oK7IqzRMgiT4hfX4bhXNDe7YKPiMH7Y4iDVVaTXkdIIz7ymhFQ7aB/DB1dqVjMpjpUIgasayXcBmjyIu6Kj1Oss7CEzsVMh6EgQv0cKMk2aLeMkiLOSd+MXfMjqRUY40Ao6U9FriMl5DiHXZD92NUSoiMbfFj6RtK/Ihh4rmgYy9BsIuJjk4pvQQ02S/Qkrjb0ELWBuedTSCWVmYxUbq3bkURAY6UCejWVkGAFyEpX+j5TpmOdaxnqryogsP0KFBMyggVPYhhyIPRYDKHvXMdsjmcEZc8CGZJqiJqR8iWxTrg2b47kHDvDJJ4QcVIEegzPhMWT2DLr6TNlqY7ZoqZJpvM57fbDxCh2ImegoyQJlaQXgRrLIsytF8FgAWwwlSDdITatFgtK3UFiIiDWIx2D32Aey8iZ8WjOLGVJAY4mQsUTbOmQaSQzelEYoi0B2AiCZO/3kygtEJcKyNd0hMp91hqpS8VyFCrDIAsjJ0okY2GYVAGvnEADpXpwkjVMp4yBiKAqchiCHqqbiiJWlnN/EYEZjWXolrhRgZYgpKF2Q95FVsgkQOiRnkxztjsSO5F6NHYeRpYUJLy2NKg4CK2a/UyxiomHu/CRTEpsBP4lQwR4x3i1kVhSlqGx1KEAaJPAV2I1E3snJ0Y8gtBFqMFrYI0CeB63mQRsYKyU036b8vfiFWewpucMH5Qys34ShoivArCM1SFEDFaJYw5mDRBPnlCCSmKyGiUUUoOyjOsY9iAgBfBHT3UQ5P1PnhDw38htE0HOgXOQTKlVJqX0LU5lGUyhb82FTg6UEud7QSBegc61rCaDoEsMdPOEc9tjMYH81DJRwfIhbVOX4zL2I177V3i+Q5aDVPl6PEeAm4uUE4m4UnMrUevs7CNkTPiHAa6mApbuB6PGRch0kTmBuzzJ+ChldwrGpcAaR8tygKJhhZ3g/VKozHpvIHMJCZK7SDEKExCgbtIQzGcwpytkjSQ0UN42/pWxfHVCyvrCx3n5ZRGr7VehTg0E1y6nNNMUqfRXdgko4lhGaZJtCD2I4KXQRKiuVUgIXcKAYUBlmjZDzaQ5EkEFX63Kjj025+KoNF0S4eHR2ZvD0/LcnACJ96firSYd6FQ8Iq8eJflUyNwKFtGfc9NjFwNIYTNpU5iO/bCA0dABGxdstlJL6xxak6tXQ0OO8jDMVjx1QVaFTLM2Kak/Jhl9hEedyJu6YL/h9Hpl0/FUXERUMVHgwlPHmyIW4p9raP4NPX6GZqMmylVdgiIdFZEI3R6OGy57N4RPOdGWgx2rUFBF6gayVM5BUF0e7AAq8xYLUHAJnZ3ptIXxcttqQd0VhzewjppJkcqdolCJSf5dUxWpvKqS2UYoiFAEniLk4qej3lkfDjvQI0kGh32Qu09ZKrSh8ojSCQtjGU/hxlMuL8gYEFzjWDFyWwsw1tP+AZ0+p5CGzTpjOj4/muZ5anrbHNq2SB5bs3y8TbGfJSTNsZpIf362dIs2Xe1TJW/Y52h33YsEoo2N19IWqmVpAPUYrBMDTZ/7sM7UsIWOIcm77Eo6IqHdM23W3Njl4RFlFWQBmU3uK3a43Fuw6tuqrTYB9JfhmcLMQ3JgpnylXRFptydFI3u5aEHhBO53jQgZdOwi6keV/WBWsNQRuLPLcyj+pDEFRYipixcrRSvUF6LwCObN+rUtJrs67sDWYx+w/RhVWqtguKS31VmwLMYDsktOOAY+HsrSWCfKklav9KzAqMinclhTeS0c5v0iwIkfTHN/SLRUlSECbJGRwyFQ3MAsyBOEz0kvKbErznLcgVBxAGiRillJlnKbBOvO2kDoJxkOUY9CVKKuKPxmiDIcz8mdM1uCUziEbfvwCV85X3aZILBhhJPpA+3UXOkUTpOVRflp6h+Awdao2q4PsjHSCQqNWoosJWVD71Qhu5M/l8VTWV6S3A6tnACPy7QZYaFkVpoUVFekValRFaZOLGUhC/VULSzXB9SupVRdYINt3viXScIOvao5aJsdcx3dtOG7vN0a9QDVSIoG4kHCK+0BrZo7xiZAI4a5M9W20grtmTWYDmepGdUf1LlRi1cC2k+R5ZddqINkBzOZmzlsbQqXK7zcGSorytnPyiBCK+QzDm95GL7WoLDKKdR4mNYZzVrdjJ6rZRiEdNi9LFINZruVWLslrtZmpEWJ/jIk9TPtqxPtZ8k9FSOlbuQmxYm94dgpgbB1R+jbQFF3a2J+6K8EQfFo9/kO/Xksnog7yRmuBRxbSQ83lrxDtq7hhvA75LoDlk9JJEW0J2Ca/RAd0ixu4a21Mup4HHxQZUwHYZKbs+TwJtXZvDXvAU1pI6j5RrBAarzpGKUcW+Wu5GMb7q6RYNjzOXzcSGq+e2V1nDqwuzsWVmcNSGmnFRjxL4g9MhA6Dv2TXDBLbtiK4IrPEYBQFqFEGakx22dOjQq80GwQQXO2d89gkPvQE5zGe9uKuh863uNqzr5fPpMD2l9nU9AwTcIAr8knTpJA0ePSx7j6hq6OohS89y1yauj7aKnWp45LWtomjhVBbYs10jcsbzq8XiYflB4TlM25q2u5qWxOfcoJAHRZVHkQTSeOUxSxGZQs/+XhJ/7RgfJoE+cCJ6kLHk60SvbbyI1Q/lDf0STbjhVdkiG8ZHLNYJ24UFnJaWg5IvbeJa6OGc1dPzcE80GaaNsG8ii8WQgTO5VFtIy0N/Vc3KAckVXz0/siJyPJdR7S9kEJcdE0srbWx4Zw++rZU27GnUoQk+7vEuVmS4MSH4p0saS9X8O+WPOKNjxLP1muyiyTNL1Hpoke0OuSCo6Qze6LATKK7K3AtwYDmqfVnnnzmlc76G08hnLU1oQvOveEgnu8/b5IccfqkqMNqxuQLppmylInPdsG+KHWUldKpbwllJovnJbWMchVymf5mugmp7RXQ2cTGw/tdKTOJNqmltUa9b80kgetKJvgWq6FvEtUR0V/crh3eTLW071905/8fHj9W26ik6+XH96oL/84/vT8zbX5+/jZ2p1TM957g2T3gX+e1u2x5+1yxbLTtNied9i/fPUxCF7sFeMvg8EXdfL0y7vdm6/zkUwPfnr9fHb4+vXV77P52ct897ph1YD49MWPz3Y25Tpe39l5Wk96vVrkakSmFzsrgScuwnDd/b2dRmLsnTd9t/Qgb+96f3Cw+3P06p2v3qQvf7yczz/t//rj5OTTq5vff9p/+/bZm18/vPvp6qDI3nqVe3nvR8Anfn3a8PBvFfmfke4mda2LvOZ/3otaVPlGlHXXA8bF5/umsfcNFRsDP8fDTmd1mrgcEi7uGjW4G6l6wHC33TS54jhgnYRRP4W01srXQeH7yhiajZebvT9xVdyM2Gz3R7WZbVv57MpdGmwMby8uLjbLlxZ7gvesTC3tCrxpZ7EY1kbIBl2ZFH5hcpriN6eS1TASNFIXuSyBvzE7uru1o5Yii6aHtVvC/xB+MbrakPe0GfAcrLZYu6XS5iPkSJ162/pKmnBYajAbAGopw41YTlQurXnKXLZnsgb8Sko1mbjDNeA1a3HZqDblus+U7OV1kTbmZyM+Wp+vlPXld6X/RZXOSnywsms3mRuvhs13Xf9Vdc31yfLdd238r7SxPhE44zl1Xshw7cu5Lduc+8Rc8V2Bf1UFuq/UaHBU+/Br8P7Y6U8GAco+c5wkV0V6RpTv2Tdq42dNIe8VzKaQ5W76josvOzLlRritd5sPCsOVRFZEsrkWaEsZ66HlbnY/r3beS1i1NpaJilQ+TaiDSxPD9ifzKX6tf6PAhGUkCe7Fioxq+/K6OQTfdBmwdVmkW3LCp7evd9fU+Cqj+2qtMv62tJqY8S1HRvN4vuwzUOcqhgcA70sdbALubuhqOOpX7vamPeZz1FUuIEBqEE6XX6Eefu/4v3f83zv+/37Hr8thbDVs0/6VyWWW2w+MjHXu3a2drZ01l/9DHOv4SvxxEf8hut2ufTh/jR6JZ3Zrd5UItl12wMduK3/pIvhr99q3KA/84r0EMqDLvnthtN6TMghWFMJvZAfbkBenjpYI3OD+djnb+D/6nwEusdJcdxtBRbP0OFfcuuR13iI6BPQpJTgs3t7St1gfsnCxoNf8+SLe4/FaZtqWTOfkKlMlA6qvEIe4CPMOrLi7Z0QCbQ8Lzv2rYyXKXvYE6iWV5nfu/VzLwf33gzNsHrn/9RDZqJrJGQVG/N3zKGKkVR/J724R4eJJwd84eBYm/fk3tnOjcg==
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      