---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: eJztW9ty2zgS/RUU92GSlORLLrOzqtoH23ESZ+xEYzmTzNipEkRCEmzeQpCWFY/22/d0A6RIibKdna3aqdrkIaEIoNHX090Ac+vlcmK83rk3mMnU+9zxAmX8TKe5TmKv552qL4UyuRgnmTCYIXRs8qzwadiIfCpzMU8K4ctYFEaJcZZEeKvElyLJFQ9NVG5fD7f55fAivoh7vV6M54v4VI1VJvJEnNP+Yq9/JILE//xoG3+bbdqxK1O9PSp0GHT5Z57J2Ehm4G/2NXbJusksrg91ZzqfduvMPmYZoiRTkAGPkaTXzMpF7HW8zEq6nwRzr3fLP3WmAq8HCqrj+UmcqzinIZmmofZ5+falITXdesafqkjSUz5PFRSXjC6Vnzu6ltC5BxVl/WKE1T+rOcZYIafKpOBPkfLTLElVlmtliFRz+pI2hNLxxFtgvpyrjEaaVuuKvTBMZkIKvzA5dM/zSM14YD2QjWrqEmOljJBxIDIIKZIx5l6pWEjfT4o4NxdxV7wji7LFiS/DNvfDxNBLpTOxd7ZnhAqNmk0VlEzEpvLaOkGmIFdMEyMhJ1LHHXqd2W3NNCnCoNzLsacNW2VN4lkm0704+BDTwyAJ24Q/S4QsIDZM5MswnAuau13wEjF4fwwHWFVAR0gjPvIY6UEM+sdOBbOpDpWIQQuyuAnwXdLIxynJRO4hdC5mOgwFMern2JKigWbLiIWC6nl3zY/kyB3WkJL+VOQ6gr7GOUxEyrKjJUXHNuSw/I2kf0U08FzxMJZQ+wYmPja5+JatIWa5PamrbXuo2iDAyV7wrUxGKreO5lgiorFSAb1ib6gINRwMFtG5lqH+qgIi269IMSMjxOwkRugGQo/FEPbOdcwBeEZU9iyRIZmGuBkpXxbWL++YHCEURipM4gkxJ0Wgx8Aicn/yb+vpM2W5jtmjpkmm8znNZr+vO+goSUIl6UWgxrIIc4sbcFgQG0wlWHcbm1aPBaduIQkRkOiRjiFvMI9l5Nx4NGeRsqSARBOh4gmmdMg1khm9KAzxloBsBEVyIPlJlBaI2wL6NR2hcp+tRuZSsRyFyjDJwsiJorA3zKoADk1ggSr+O9bCtMoYqAimooAh6qG6qThiYznAExGE0RiGbUkaFWhJANLAFYou8kJmAUqP9GSas9+R2onVo7GLMPKkIOGxpUPFQWjN7GeKTUwy3LVfiX20G5F/yRRB3gleTSSRlBVoLHUoQNokiJVYzcTeyYkRjwhgQw1ZA+sU2Odxm0vABwBzzvqtWB2vBIN1Pef44JSF9ZMwREZhyLQ2hIq1A+vpiqDiyROC5yQmr1FCIRkqK7iO4Q8CWoB89FQnQdH/5AkR/43CNhEUHFgHzZRWZVbK2OLkncEV+tZdaOVAKXG+FwTiFfhcy+MyCLokQDdPOJs/FhPoTy1TMzwf2t6A/cBr/wrPd+hykCpfj+cAuLlIOXWKKzW3GrXBzjFCzoR/mOBqKmDtfjBqXITMF7kTpMuTjJdSPUNgXCqssbQsgAgNq92J3i+Fymz0BjKX0CCFixSjMAED6iYNIXwGd7pC1khCA+Nt418Zy1cnZKwvvJyHXxax2n4V6tRAce16SjNNSKW/ckjAEMcySpNsA/QAwUuliVBdq5A2dAkDjgGTaZoMM3O2piKipK9WdccRm3NpULouqfDw6OzN4Wm5bk6ExPtT8VaTDXQqHlFUj5J8KmRuFQv059z02GEAGWwmbQrTsR8WcBpaYHHBZiu19M6hdbl6/TdklIdjtu5TV2RVujWrsZL7Y9LRR0TUibypK/YbVq/Xch1PxUVENSIBF5463hRYiH+uYfk39PgZlo2aW67aEhzpqIhE6OYwbrjs3VA+5URbAHesQcEVmRuboUIEQ3V9cACgzFwswMElbHam0xbBy2mrLURXHN7AO2ouRSZ3hkIlJvl3zVRk8qovYB8hECEEngJy8dNx77wPix3pkSSHwzzo3acsFVqoPKJ0wspY4inCeMrlBTkDwDWOla2EuRbgXU/7B7T6nCDNlrjEx+dH0zxPTW+boW2L9LE1y8fbhP2sIWmO1UT687NlWLTZap96F8MxR7Mb1TjQxuK1tIVqWRrAPAbjJEAz5j6sCzVs4WNI+i77sI5IaPZMm7Uwdnl4RFkFWUBmk/uKHS73Fmz6tmqrTQH9JTwTzDwkB2bKV9oVkXZ6UjSyl0MLghOE3zUQMujYQdSPKvvBrOxS38CtXa5D8SeNKSLX9awnWWoVQhQewbxZv7ZhsqvjDmw99gHTj1GltSqGS3pbnQXLYjwgv+SEYxDjoSyddaIsa/VKzyqMinwqhzWV18LtvF8EWPGDac4PiZeqMgTAFhkFHIDiBm5BkSB8TnpJubtyPRrYpeIA1CIVs5Es5zYJ1oO1saGfZFhEPYptOoPCb0KUYTyncM5sCU5wCN/2ERO+crHsMkFgYYST6QP91FzpFEGTlUX5aeofQMBWVG23B/kY2QSFRi1Flpqy0DtVyO4Uz2XxVO+nD62eQI/LtBntQsmsdCmYrkirUqMqTJ1aak181cJyfUDtWkrVBSbY5o1/mSTs0KtagLb5MdfRTR++K9qtUw9QjaRoIB6kvNIf0Kq5ZewCdKgyd67aVlqhPbMO0+EsNaP6gzo3avFKQvspsvyyC3WU7FFU5k5ZtjbB5Yosd0JlxTnHWQkiNEIx4/YtFyPWGhxWOYUaD9N6KrVWN6Pnajn+QjrsXhaphrDdSq3dcq/WZqTFiP4SkvqZ9tWJ9rPknoqRUjdyk+LE3gjslEjYuiP0LVDUw5qEH/orICge7T7foT+PxRNxJzvDNcCxlfRwY8k7ZO8aboDfIdcd8HxKIinQnojp2B5OJbO4RbbWyqjjMfigypgOwiQ3Z8nhTaqzeWvewzalj6DmG8EDqfGmZZRybJW7ko8t3F0jwXDkM3zcSGq+e2V1nDqyuzuWVmeNSOmnFRnxL6g9MlA6Fv2TQjBLbtiLEIrPAUAoi1CijNSY/TOnRgVRaDaooHmaec9RKPehJ1iN97YVdT90vMfVnH2/fKYAtL/OpuBhmoQBXlNMnCSBosdljHH1DVsdRSlk79vNqaHvo6VaP2dd8tJ2xlox1DZYY33D8KbF62XyQRkxQdmcu7qWm8rmqU95AgBbFlUeRNOJ5YQiy/Pcl4ef+EcHxqNJnAucpi74cKJVs9/GboTyh/qOJtv2WNElGdqXXK4J1omDykpPQyuRO2+2+Dqau35uCOGDNNG2DeTD/2YhTOJUHtFyiL+p5+IG5Yi8mp/eFzk5Sa7zkKYPSoqLppO1tT4Wwu2rZ0+5GXcmASbd3yXKzZ4GIz5008WS935t98VaVLTts4yT5ajMMkn3Fcg00QN6XTLBEbLZfRggo8jeg3wrGNB5Wu2ZJ69FtaPeJmMoR21N+KJzDxTcE+33IcUdo0uJNoxu2HTRdFPWOtnZNsAP9Za6USrjLanUYuG09I5BrlJeyxdjNzmlvdp2NrHxoZ2O1JlE29QyWuP+l0byoBFlE1zLRZh3ieqo6E8O9y5Pxnq6t2/6k58Pr3/LTXTy9fLDG/XlH8efnr+5Nn8fP1u7ZWvivTdIdh/452ndH3veLlcsO02P7XmH/ctXH4PgxV4x/jIYfFEnT7+82735Oh/J9OCn189nh69fX/0+m5+9zHevG14Nik9f/PhsZ1Ou4/Gdnaf1pNerIVcDmV7srABPXIThevh7O43E2Dtvxm4ZQd7e9f7gYPfn6NU7X71JX/54OZ9/2v/1x8nJp1c3v/+0//btsze/fnj309VBkb31qvDy3o+wn/j1aSPCv1Xlf0a7m8y1rvJa/HkvaqjyjVvWQw87Lj7fdxp736Fi48DPybDTWT1NXB4SLu46anA3UnXAcPf7dHLFOGCDhLd+Cm2tla+DwveVMXQ2Xk72/sTleBOx2e+Pame2beWzK3fpYGN4e3FxsVm/NNgTPGfl1NKOIJp2Foth7QjZoCur7sxXTiWrw0i63d6ql8DfmB3d3dpRS5FFp4e1W8L/kH4xutqQ97QZ8DlYbbB2S6XNR+iROvW28ZU04Xap0WwQqKUMd8RyonJp3VPmsj2TNehXWqrpxC2uEa95i8tGtVOu+1zJXl4XaeP8bMRL2z6S+G70v6jR2YgPNnbtJnPj1bD5buu/qq25Plm++26N/5U11k8EzvicOi9kuPat4JZtzn0SrvhuwL+qAd1XanRwVPvwa/D+2NlPBgHKPnOcJFdFekac79k3auNnTSHPFSymkOVs+o6LLzsy5Y5wW+82HwTDlUZWVLK5FmhLGevQcre4n1c77yWtWhvLTEUqnybUwaWJYf+T+RS/1r9RYMYy0gT3YkVGtX153RxCbroM2Los0i054dXb17trZnyV0X21Vhl/TVudmPEtR0bn8XzZZ2DO1R0eQLwvdbCJuLuhq+1Rv3K3N+0xr6OucgEFUoNwuvzu9vB7x/+94//e8f/3O35dHsZWh23avzK5zHL7gZGxwb27tbO1sxbyf4hjHV+JPy7iP0S327UP56/RI/GZ3dpdJcC2ywH42E3lL10Ef99f+xblgd/4l0QGdNl3L43We1ImwYYC/Eb2YBv64tTRgsAN6W+XZxv/R/8XwiVWOtfdBqho1h7niluXvM5bVAdAn1KCw+DtLX2L9SELFwt6zZ8v4j0er2Wmbcl0TqEyVTKg+go4xEWYd2DV3T0jFmh6WHDuXz1WouxlV6BeUml+59zPtRzcfz84w+SR+38ekUXVTM4IGPF3zyPESKs+kt/dAuHiScHfOHiWJv35NzwZ+fo=
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      