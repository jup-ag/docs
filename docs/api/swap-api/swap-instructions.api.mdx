---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outputMint":{"type":"string"},"outAmount":{"type":"integer","format":"uint64","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"integer","format":"uint64","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"integer","format":"uint64"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outAmount":{"type":"integer","format":"uint64"},"feeAmount":{"type":"integer","format":"uint64"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"},"bps":{"type":"integer","format":"uint16"}},"required":["swapInfo","bps"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      