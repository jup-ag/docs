---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outputMint":{"type":"string"},"outAmount":{"type":"integer","format":"uint64","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"integer","format":"uint64","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"integer","format":"uint64"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outAmount":{"type":"integer","format":"uint64"},"feeAmount":{"type":"integer","format":"uint64"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      