---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction\n- If false, it will use wSOL token account\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- Exlcuding slippage or platform fees\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` and `platformFeeBps`\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"devjnEpxbJUhJ39FSsFz7YPerr5bdxN8VWUXvfbFUK4","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To unwrap the SOL if `wrapAndUnwrapSol = true`.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      