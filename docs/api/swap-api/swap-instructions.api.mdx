---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","payer","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      