---
id: swap-instructions
title: "swap-instructions"
description: "Request for swap instructions that you can use from the quote you get from `/quote`"
sidebar_label: "swap-instructions"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap-instructions"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap-instructions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for swap instructions that you can use from the quote you get from `/quote`

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction#build-your-own-transaction-with-instructions) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"otherInstructions":{"description":"- If you set `{\\\"prioritizationFeeLamports\\\": {\\\"jitoTipLamports\\\": 5000}}`, you will see a custom tip instruction to Jito here.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"computeBudgetInstructions":{"description":"- To setup the compute budget for the transaction.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"setupInstructions":{"description":"- To setup required token accounts for the users.\n","type":"array","items":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction"}},"swapInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- The actual swap instruction.\n"},"cleanupInstruction":{"type":"object","properties":{"programId":{"type":"string"},"accounts":{"type":"array","items":{"type":"object","properties":{"pubkey":{"type":"string"},"isSigner":{"type":"boolean"},"isWritable":{"type":"boolean"}},"required":["pubkey","isSigner","isWritable"],"title":"AccountMeta"}},"data":{"type":"string"}},"required":["programId","accounts","data"],"title":"Instruction","description":"- To wrap and unwrap the SOL.\n"},"addressLookupTableAddresses":{"description":"- The lookup table addresses if you are using versioned transaction.\n","type":"array","items":{"type":"string"}}},"required":["computeBudgetInstructions","setupInstructions","swapInstruction","addressLookupTableAddresses"],"title":"SwapInstructionsResponse"}}}}}}
>
  
</StatusCodes>


      