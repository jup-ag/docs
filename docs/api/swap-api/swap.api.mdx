---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- The returned swap transaction will still attempt to create required accounts regardless if it exists or not\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outputMint":{"type":"string"},"outAmount":{"type":"integer","format":"uint64","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"integer","format":"uint64","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"integer","format":"uint64"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outAmount":{"type":"integer","format":"uint64"},"feeAmount":{"type":"integer","format":"uint64"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer","format":"uint64"},"prioritizationFeeLamports":{"type":"integer","format":"uint64"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      