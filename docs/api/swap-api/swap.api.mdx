---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","payer","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      