---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: eJztWltz00gW/itd2ocBys6FAZZ11T4kIVwT8MQJMANUuS217U50Q92KYzLZ377fOd2yJVtOQs2+bNXwEHTpPn2u37nI14GVExP0vgSDmcyDb50gUiYsdG51lga94ER9L5WxYpwVQoqRNOrZk65KwyxSkShToycpLgz2ClvI1MiQNvLCSODCTpUYbn8vM6uGolAmz1KjvqZf016vl+Lh1/REjVUhbCa+EAdir/9GRFn47cE2/pptotyVud4elTqOunxbO+ghM5ZkhRI6xWUi6SlT/5oGnaBw7O9n0TzoXfOtLlQU9GxRqk4QZqlVqaVXMs9jHfL27XNDsl8HJpyqRNKVnecK2shG5yq0nq4j9CUojSr65Qi736k53rGwJ15U0mheZLkqrFaGSDWXL2kbW+h0EtxgvZyrgt40TdEVe3GczWCGsDQ2SwSvI83hgvVAyq5bYayUETKNoPjUimyMtRcqFTIMszK15mvaFe/BK/ZJK4gvI0KZijDODD1UuhB7p3tGqNio2VRByURsKi+VmGclqEIuNnEi5ETqtEOPC3esmWZlHFVnefa0YausSTwrZL6XRmcpXQyyuE3400zIEmLDRKGM47mgtdslbxGDD0dwgFUFdIQ04hO/Iz2IQf/Iq2A21bESKWhBFr8A7kga+TQlmcg9hLZipuNYEKOhxZHQEa+WCQsF1fPpmi/JNzusISXDqbA6gb7GFiYiZbm3FUXPNuRw/I1keEE0cL3gYSyh9g1MfGpy8TNHQ8zqeFJX2/FQtVGW7QXfKmSirHM0zxIRTRUCHI/YGxaEGg4Gi2irZax/qIjI9hekmJERYnaSInQjocdiCHtbnXIAnhKVPUdkSKYhbkYqlKXzy1sWJwiFkYqzdELMSRHpMeCF3J/823n6TDmuU/aoaVZoO6fV7Pd1Bx1lWawkPYjUWJaxdbgBhwWxwVSCdX+wafVYcOo3khARiZ5owstonsrEu/FoziIVWQmJJkKlEyzpkGtkM3pQGuItA9kEiuRACrMkLxG3JfRrOkLZkK1G5lKpHMUIPyJZGjlRFPaGWRXAoQkssIj/jrMw7TIGKoKpKGCIeqyuFhyxsTzgiQTCaLyGbUkaFWlJANLAFYou8kJmAUpP9GRq2e9I7cTqm7GPMPKkKON3S4dKo9iZOSwUm5hkuO28CvvoNCL/gimCvBd8sZBEUk6gsdQxJSiTIVZSNRN7x8dGPCCAjTVkjZxT4JyHbS4BHwDMeeu3YnW6EgzO9bzjl8YJG2ZxjIzCkOlsCBVrD9bTFUHFo0cEz1lKXqOE0ljhBNcp/EFAC5CPruokKPofPSLiv1PYZoKCA/ugmcqqzEoVW5yPC7hC37kL7RwoJb7sRZF4CT7XUrOMoi4J0LUZJ+iHYgL9qWVqhudD2xuwH3gdXuD6Fl0OchXq8RwANxc5p05xoeZOoy7YOUbImfAfE1xNBazdM6PGZcx8kTtBOpsVvHUCgCEwrhTW2CrGBbKtQ8PF6UTvt1IVLnojaSU0SOGCKinOwIC6ymMIX8CdLpA1stjAeNv4X6by5TEZ6ztv59cvylRtv4x1bqC4dj3lhSak0j84JGCII5nkWbEBeoDgldJErC5VTAf6hAHHgMk0LYaZOVtTEVHRV6u644i1XBpUrksqPHxz+vrwpNo3J0Liw4l4q8kGOhcPKKpHmZ0KaZ1igf6cmx56DCCDzaRLYToN4xJOQxscLrhspZbeOXQup1MopXSmGTLKwzFbz6krclG6Nauxivsj0tEnRNSxvKor9id2r9dynUClZUI1IgEXrjrBFFiI/y5h+dd0+Q2WTZpHrtoSHOmkTETs1zBu+OzdUD7lRFcAd5xBwRWZG4ehQgRDdX1wAKDMBI5x2YxHJZ49exLc3ICnc1jxVOctqti8cbV36IrDK3hQze3ILbwxUa1Jvq+Zk9xi0Q6wHxHQEEpPAcu49RJ6D8VmT3rRbsA2IWWy2MHpG0o5rLAl5iLUp1yCkMMAgNNUuWqZ6wU+9aR/QLu/EOy5Mpj4+PZgam1uetsMf1ukoa2ZHW9TfmCdSXOkJjKcny5Dp82e+9TJGI5LWt2o2IFIDtOlK2ar8gEmNHhPAjTj8mxdqGELH0PSd9WHdURGq2farIW6z9UjyjzIFLKY3FUQcUl4w6Zvq8jaFNBfQjhB0X3yZKFCpX2h6ZZnZSPDeUQhyEGIXgJFo457SR1q8YtZOaV+gN+73IcCURpTJr4zWk/E1E7EKE6iebPGbcNtX+sduJrtDMuPUMm1KobLflfBRcuCPSK/5KRkgAOxrJx1ohxr9WrQKYwaASqZNZXgwp+8X0bY8Ytpro+Jl0X1CBAuCwo4gMkV3IIiQYScGLPqdOX7OLBLBQSoJSplIznOXaKsB2vjwDArsIn6GNeYRmXYhDHDmE/hXLgynSATvh0iJkLlY9lni8jBCCfce/qpudA5gqaoCveTPDyAgK3I224P8jGyCYqRWhqtNOXgeapQAVA8VwVWveemIq9QtixaRye+2aO/0lqV5JweuRRW6/TwZCILFMzGUBcFHtWVNngO7XFDe7/gdT46QAGSo2e4ly4q86I789vYojRHmXvPa6um0JE5+3c4Mc2o5KBmjbq6itB+jsS+bDw9JQavxQxpaxP6rchyK/ItOOewqTCB3lAI6Ob4CqHT4HCRIqjXMK2DqLVSGW3W+hDrH8hu3fMy1xC2u1Brtzqrtf9oMWK4RJh+oUN1rMMiu6NIpEyMVKM4TzfiNCcSrtSIQxf39Sgl4YfhCqaJB7tPdujfQ/FI3MrOcA0/XPE83FjlDtm7hhvQdMhlBACZckIO8CZisB/Po7JZ2iLbPYuhTsDogjJiOogza06zw6tcF/PWxCYpCp3XoPAbwSep+6ZtlFNcqbuScB2eXSKDcFVNekHVRB14ryqRc092d8fR6qwRqTx3QUb8B4ZIDMyATf+moCyyK/YrBOcTJAfUPahBRmrMHkuoAaGUuYdSnpNOmjPOOwak3J0eYyueuwbV3+h0j+s393x5TTHq7k6nYGqaxREeU9gcZ5Giy2UYck0Oc75Jciij7w6nNr+PRmt9+rrkpW3yumCo7WWN9Q2vN21eL4wPqqCKqpbdV7LcajZnQVXKgHHLReZDK4rtZJjllPfF4We+6cCatIhIVJr6yiOLVs3+HLsJCh7qRppsu2GjT0p0LvlgE8+rjwELPQ2dRH4K7SB4NPdd3hDCR3mmXXPIw/9m6UviLDyiZbS/qRPjluQNuTlffSgtOYnVNqblg4riTdPJ7mx/dp/hiddN0Nuhft3bBxh2dyMpN7sdLHpfDqgJqSTp146/WYuRtoOWUbN8K4tC0jcNpKbkHv0wGeQN0t9diCCTxH0r+VlooJlb7ZoXr8W4p94mYyxHbY36TecOYLgj9u/CjVveLiXa8HbDoTdNp2Wtk51dA3y3uzCMj37Cser2W9h5eWAtiE4qRxpYlfNe/s52ZSmB3muSwMIl6lSi6aptcDm1IftvjUREb5TLni2f2oJzFGNlf3K4d3481tO9fdOfvDu8/N2a5PjH+dlr9f1fR5+fvL40/xz/uvYdr5k7gkG2e89/j+ve3At2uUDaafp7Lzjsn7/8FEVP98rx98Hguzp+/P397tWP+UjmB89fPZkdvnp18cdsfvrC7l42YgIUHz999uvOprzJ73d2HtcTaK+Ggg2Ue7qzgltpGcfr4BHsNJJs70sz8qv4C/Yu9wcHu++Sl+9D9Tp/8ex8Pv+8//HZ5Pjzy6s/nu+/ffvr649n759fHJTF22ARnMGHEc4THx838OFnVf5XtLvJXOsqr0Vv8LSGST95ZD1wceLNt7vmvXeNLRsjRS/DTmd1XrkcQ97cNqjw37zqcON/FkBzL4YGFyR89GNoa602HpRhiBaVpu/V4uAvfH5fzzorM7cW4Df2I1XH+1TNv1Y05rovFN1qiXuMU9exs87tBt6+rSp8AXGscnTG04yiO88Ma0TaKe64dqKoVgWNDDk0y4JMXc0uY6RyakW30HBuyQlv2L7cXSv6XhY0/NSo6ugXGYtijHvsgrpBnhwZ6Gf1hHsQ70u0KRuI+3FP7Yz6/NaNbVPeRyCzfnxeKLhH1GX4rku6xsWp//ophbFy4gpuzwl/UYSDQz4YghzyZPlLksO/M8zfGebvDPO/zzC6ah0WxZ0OLxCbhXWfzIyL292tna2dtWj+Uxzp9EL8+TX9U3S7XXfx5ZWygmvEtVHcRFmHEQ/9Uv4uI/hHaDV8vvcP0RyRAc2y7qTROgZkEmwoQHri2jDoi/OYQ/WGwNfL9Pn//is9n0OpRdgGOGjWAqP6tU9sLm1SUpxSvsP99TVxf1bENzf0mL+l4zkuL2WhaUxNd6AzVTKin9MBQi4YMw6c2rqndCotj0tudVcrEEotbsceipfc3rr2Wy0l9z8MTrF45H90mDhALOSMMA1/ewEFO5uRQ4mfXQOc0knJ0/fA0aR//wW2PpF2
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- The returned swap transaction will still attempt to create required accounts regardless if it exists or not\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"},"bps":{"type":"integer","format":"uint16"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer","format":"uint64"},"prioritizationFeeLamports":{"type":"integer","format":"uint64"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      