---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      