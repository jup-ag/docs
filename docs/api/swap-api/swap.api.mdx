---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outputMint":{"type":"string"},"outAmount":{"type":"integer","format":"uint64","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"integer","format":"uint64","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"integer","format":"uint64"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outAmount":{"type":"integer","format":"uint64"},"feeAmount":{"type":"integer","format":"uint64"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer","format":"uint64"},"prioritizationFeeLamports":{"type":"integer","format":"uint64"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      