---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction\n- Most DEXes swap WSOL since WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- Exlcuding slippage or platform fees\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` and `platformFeeBps`\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      