---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer","format":"uint64"}}},"jitoTipLamports":{"type":"integer","format":"uint64","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer","format":"uint64"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer","format":"uint8"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outputMint":{"type":"string"},"outAmount":{"type":"integer","format":"uint64","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"integer","format":"uint64","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"uint16","minimum":0},"platformFee":{"type":"object","properties":{"amount":{"type":"integer","format":"uint64"},"feeBps":{"type":"integer","format":"uint16"}},"title":"PlatformFee"},"priceImpactPct":{"type":"number"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"integer","format":"uint64"},"outAmount":{"type":"integer","format":"uint64"},"feeAmount":{"type":"integer","format":"uint64"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"uint8"},"bps":{"type":"integer","format":"uint16"}},"required":["swapInfo","bps"],"title":"RoutePlanStep"}},"contextSlot":{"type":"integer","format":"uint64"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer","format":"uint64"},"prioritizationFeeLamports":{"type":"integer","format":"uint64"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      