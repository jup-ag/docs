---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction\n- If false, it will use wSOL token account\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- Exlcuding slippage or platform fees\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` and `platformFeeBps`\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      