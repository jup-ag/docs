---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"payer":{"description":"- Allow a custom payer to pay for the transaction fees and rent of token accounts\n- Note that users can close their ATAs elsewhere and have you reopen them again, your fees should account for this\n","type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction, as WSOL is an SPL token while native SOL is not\n- When true, it will strictly use SOL amount to wrap it to swap, and each time after you swap, it will unwrap all WSOL back to SOL\n- When false, it will strictly use WSOL amount to swap, and each time after you swap, it will not unwrap the WSOL back to SOL\n- To set this parameter to false, you need to have the WSOL token account initialized\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- The value includes platform fees and DEX fees, excluding slippage\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` on the `outAmount` value\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"jdocuPgEAjMfihABsPgKEvYtsmMzjUHeq9LX4Hvs7f3","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      