---
id: swap
title: "swap"
description: "Request for a base64-encoded unsigned swap transaction based on the `/quote` response"
sidebar_label: "swap"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/swap-api/quickstart
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"swap"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/swap"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Request for a base64-encoded unsigned swap transaction based on the `/quote` response

:::note
Refer to [Swap API doc](/docs/swap-api/build-swap-transaction) for more information
:::


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["userPublicKey","quoteResponse"],"properties":{"userPublicKey":{"type":"string"},"wrapAndUnwrapSol":{"description":"- To automatically wrap/unwrap SOL in the transaction\n- If false, it will use wSOL token account\n- Parameter will be ignored if `destinationTokenAccount` is set because the `destinationTokenAccount` may belong to a different user that we have no authority to close\n","type":"boolean","default":true},"useSharedAccounts":{"description":"- The default is determined dynamically by the routing engine, allowing us to optimize for compute units, etc\n- This enables the usage of shared program accounts, this is essential as complex routing will require multiple intermediate token accounts which the user might not have\n- If true, you do not need to handle the creation of intermediate token accounts for the user\n- Do note, shared accounts route will fail on some new AMMs (low liquidity token)\n","type":"boolean"},"feeAccount":{"description":"- An token account that will be used to collect fees\n- The mint of the token account **can only be either the input or output mint of the swap**\n- You no longer are required to use the Referral Program\n- See [Add Fees](/docs/swap-api/add-fees-to-swap) guide for more details\n","type":"string"},"trackingAccount":{"description":"- Specify any public key that belongs to you to track the transactions\n- Useful for integrators to get all the swap transactions from this public key\n- Query the data using a block explorer like Solscan/SolanaFM or query like Dune/Flipside\n","type":"string"},"prioritizationFeeLamports":{"description":"- To specify a level or amount of additional fees to prioritize the transaction\n- It can be used for EITHER priority fee OR Jito tip (not both at the same time)\n- If you want to include both, you will need to use `/swap-instructions` to add both at the same time\n","type":"object","properties":{"priorityLevelWithMaxLamports":{"type":"object","properties":{"priorityLevel":{"type":"string","enum":["medium","high","veryHigh"]},"maxLamports":{"description":"- Maximum lamports to cap the priority fee estimation, to prevent overpaying\n","type":"integer"}}},"jitoTipLamports":{"type":"integer","description":"- Exact amount of tip to use in a tip instruction\n- Refer to Jito docs on how to estimate the tip amount based on percentiles\n- It has to be used together with a connection to a Jito RPC\n- [See their docs](https://docs.jito.wtf/)\n"}}},"asLegacyTransaction":{"description":"- Builds a legacy transaction rather than the default versioned transaction\n- Used together with `asLegacyTransaction` in `/quote`, otherwise the transaction might be too large\n","type":"boolean","default":false},"destinationTokenAccount":{"description":"- Public key of a token account that will be used to receive the token out of the swap\n- If not provided, the signer's token account will be used\n- If provided, we assume that the token account is already initialized\n","type":"string"},"dynamicComputeUnitLimit":{"description":"- When enabled, it will do a swap simulation to get the compute unit used and set it in ComputeBudget's compute unit limit\n- This incurs one extra RPC call to simulate this\n- We recommend to enable this to estimate compute unit correctly and reduce priority fees needed or have higher chance to be included in a block\n","type":"boolean","default":false},"skipUserAccountsRpcCalls":{"description":"- When enabled, it will not do any additional RPC calls to check on required accounts\n- Enable it only when you already setup all the accounts needed for the trasaction, like wrapping or unwrapping sol, or destination account is already created\n","type":"boolean","default":false},"dynamicSlippage":{"description":"- When enabled, it estimates slippage and apply it in the swap transaction directly, overwriting the `slippageBps` parameter in the quote response.\n- Used together with `dynamicSlippage` in `/quote`, otherwise the slippage used will be the one in the `/quote`'s `slippageBps`\n- [See notes for more information](/docs/swap-api/send-swap-transaction#how-jupiter-estimates-slippage)\n","type":"boolean","default":false},"computeUnitPriceMicroLamports":{"description":"- To use an exact compute unit price to calculate priority fee\n- `computeUnitLimit (1400000) * computeUnitPriceMicroLamports`\n- We recommend using `prioritizationFeeLamports` and `dynamicComputeUnitLimit` instead of passing in your own compute unit price\n","type":"integer"},"blockhashSlotsToExpiry":{"description":"- Pass in the number of slots we want the transaction to be valid for\n- Example: If you pass in 10 slots, the transaction will be valid for ~400ms * 10 = approximately 4 seconds before it expires\n","type":"integer"},"quoteResponse":{"type":"object","required":["inputMint","outputMint","inAmount","outAmount","otherAmountThreshold","swapMode","slippageBps","priceImpactPct","routePlan"],"properties":{"inputMint":{"type":"string"},"inAmount":{"type":"string"},"outputMint":{"type":"string"},"outAmount":{"type":"string","description":"- Calculated output amount from routing engine\n- Exlcuding slippage or platform fees\n"},"otherAmountThreshold":{"type":"string","description":"- Calculated minimum output amount after accounting for `slippageBps` and `platformFeeBps`\n- Not used by `/swap` endpoint to build transaction\n"},"swapMode":{"required":true,"type":"string","enum":["ExactIn","ExactOut"],"title":"SwapMode"},"slippageBps":{"type":"integer","format":"int32"},"platformFee":{"type":"object","properties":{"amount":{"type":"string"},"feeBps":{"type":"integer","format":"int32"}},"title":"PlatformFee"},"priceImpactPct":{"type":"string"},"routePlan":{"type":"array","items":{"type":"object","properties":{"swapInfo":{"type":"object","required":["ammKey","inputMint","outputMint","inAmount","outAmount","feeAmount","feeMint"],"properties":{"ammKey":{"type":"string"},"label":{"type":"string"},"inputMint":{"type":"string"},"outputMint":{"type":"string"},"inAmount":{"type":"string"},"outAmount":{"type":"string"},"feeAmount":{"type":"string"},"feeMint":{"type":"string"}},"title":"SwapInfo"},"percent":{"type":"integer","format":"int32"}},"required":["swapInfo","percent"],"title":"RoutePlanStep"}},"contextSlot":{"type":"number"},"timeTaken":{"type":"number"}},"title":"QuoteResponse"}},"example":{"userPublicKey":"devjnEpxbJUhJ39FSsFz7YPerr5bdxN8VWUXvfbFUK4","quoteResponse":{"inputMint":"So11111111111111111111111111111111111111112","inAmount":"1000000","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","outAmount":"125630","otherAmountThreshold":"125002","swapMode":"ExactIn","slippageBps":50,"platformFee":null,"priceImpactPct":"0","routePlan":[{"swapInfo":{"ammKey":"AvBSC1KmFNceHpD6jyyXBV6gMXFxZ8BJJ3HVUN8kCurJ","label":"Obric V2","inputMint":"So11111111111111111111111111111111111111112","outputMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","inAmount":"1000000","outAmount":"125630","feeAmount":"5","feeMint":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"percent":100}]},"prioritizationFeeLamports":{"priorityLevelWithMaxLamports":{"maxLamports":10000000,"priorityLevel":"veryHigh"}},"dynamicComputeUnitLimit":true},"title":"SwapRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"swapTransaction":{"type":"string"},"lastValidBlockHeight":{"type":"integer"},"prioritizationFeeLamports":{"type":"integer"}},"required":["swapTransaction","lastValidBlockHeight"],"title":"SwapResponse"}}}}}}
>
  
</StatusCodes>


      