---
sidebar_label: Fee Distribution
title: Fee Distribution
description: How fees are distributed back to the JLP Pool
---

<head>
    <title>JLP Fee Distribution</title>
    <meta name="twitter:card" content="summary" />
</head>

In this section, we will discuss the fees generated by the exchange, how to estimate the yield, APR and how it is distributed back to the JLP Pool.

---

## Fees

The exchange generates fees in various ways and **75% of all fees generated go into the pool**.

| Action                     | Fee                                                                                    |
| ---------------------------|----------------------------------------------------------------------------------------|
| Opening a Position         | 6 BPS (variable)                                                                       |
| Closing a Position         | 6 BPS (variable)                                                                       |
| Price Impact Fee           | Dependent on size of the trade (variable)                                              |
| Swap Fee (Mint / Burn JLP) | Between 0 BPS to 150 BPS depending on pool weightage                                   |
| Borrow Rate                | Dynamically updated based on utilization and market conditions                         |

:::tip Fee Breakdown
To fully understand each fee and how they are imposed, [please refer to the trader's guide on fees](./fees).
:::

---

## Fee Distribution

The fees are distributed back to the JLP Pool **hourly**. It occurs at the start of every hour, in UTC time (e.g. `00:00 UTC`, `01:00 UTC`, `02:00 UTC`, and so on).

During the distribution, 75% of realised fees are withdrawn from each custody account's `assets.fees_reserves` and deposited back into the JLP Pool (while the remaining 25% is sent to Jupiter as a protocol fee).

:::tip
[Learn more about the on-chain accounts associated with JLP and Jupiter Perps in the developer documentation](../../docs/perp-api/position-account).
:::

## APR Calculation

The JLP Pool maintains a `pool_apr.last_updated` field on-chain which records a UNIX timestamp of the latest APR update. After a **consecutive week** of hourly fee distributions have passed, the APR is recalculated and updated to `pool_apr.fee_apr_bps`.

<details>
    <summary>
        APR Calculation Formula
    </summary>

```
if current_time > (last_updated_time + 1_WEEK):
    time_diff = current_time - last_updated_time
    // 10_000 represents the scaling factor used to calculate the BPS for the pool's APR
    apr_bps = (realized_fee_usd * YEAR_IN_SECONDS * 10_000) / (pool_amount_usd * time_diff)
```

</details>

## Estimating Yield

To provide an estimated perspective, you can calculate potential revenue by taking the Jupiter Perpetual Exchange's daily or weekly total volume and multiplying it by a fee percentage.

:::info Yield Calculation Factor
It is essential to note that pool earnings and losses (index token appreciation/depreciation) are not factored in the overall yield calculation.
:::

### Calculate Total Estimated Revenue

To determine the total estimated revenue (excluding price impact and hourly borrow fees) to be deposited into JLP pool, use the following formula.

<br />

![Estimated Revenue Formula](../../static/perps/jlp-revenue.png)

<br />

Using the example values, the estimated revenue to be deposited into JLP pool would be:

- Total Daily Volume: 50 million
- Fee Percentage: 0.06%
- Price Impact Fees: Minimum 0.01%
- Revenue Share Percentage: 75%
- **Estimated Revenue: 50_000_000 x 0.06% x 75% = 22_500**

### Calculate Estimated Share

To determine your specific share or weight in the total JLP pool, use the following formula.

<br />

![Estimated Share Formula](../../static/perps/jlp-share.png)

<br />

Using the example values, the estimated share percentage would be:

- Your contribution: 1_000
- Total pool amount: 4_000_000
- **Your share percentage: 1_000 / 4_000_000 x 100 = 0.025%**

### CalculateEstimated Revenue Share

Finally, you can calculate your estimated generated revenue share by multiplying the results of the first and second calculations:

**Estimated revenue share you generate = 22_500 x 0.025% = $5.625**
